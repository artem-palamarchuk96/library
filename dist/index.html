<!DOCTYPE html>
<html lang="en" ng-app="libraryApp">
<head>
	<meta charset="UTF-8">
	<title>Library</title>
	<link rel="stylesheet" type="text/css" href="main.css">
	<script type="text/javascript" src="common.js"></script>
</head>
<body ng-controller="libraryCtrl">
	<!-- MAIN WRAP -->
	<div class="fluid-container">
		<div class="container">
			<div class="row">
				<!-- LEFT SIDE WRAP -->
				<div class="col-xs-6">
					<form action="#" name="library-form" method="post">
						<!-- ADD NEW AUTHOR -->
						<fieldset>
							<legend>Добавить автора</legend>
							<table>
								<tr>
									<th>Фамилия *</th>
									<td><input ng-model="data.name" class="text-field form-control" type="text" id="name" placeholder="Введите фамилию"></td>
								</tr>
								<tr>
									<th>Имя *</th>
									<td><input ng-model="data.surname" class="text-field form-control" type="text" id="surname" placeholder="Введите имя"></td>
								</tr>
								<tr>
									<th>Отчество *</th>
									<td><input ng-model="data.patronymic" class="text-field form-control" type="text" id="patronymic" placeholder="Введите отчество"></td>
								</tr>
							</table>
						</fieldset>
						<!-- ADD NEW BOOK -->
						<fieldset class="fieldset-books">
							<legend>Книги
								<button class="btn btn-info custom-btn add-book-btn">Добавить книгу</button>
							</legend>
							<table>
								<tr>
									<th>Название *</th>
									<td>
										<input ng-model="data.books.name" id="bookTitleId" class="form-control" type="text" placeholder="Введите название книги" required="required">
									</td>
								</tr>
								<tr>
									<th>Жанр *</th>
									<td>
										<input ng-model="data.books.genre" id="bookGenreId" class="form-control" type="text" placeholder="Введите жанр книги" required="required">
									</td>
								</tr>
								<tr>
									<th>Кол-во страниц *</th>
									<td>
										<input ng-model="data.books.pages" id="bookPagesId" class="form-control" type="text" placeholder="Введите кол-во страниц" required="required">
									</td>
								</tr>
							</table>
						</fieldset>
						<!-- ADD/RESET BUTTONS -->
						<fieldset>
							<input ng-click="addBook(data.name, data.surname, data.patronymic, data.books.name, data.books.genre, data.books.pages)" type="button" class="btn btn-success custom-btn submit-btn" value="Сохранить">
							<input class="btn btn-danger custom-btn reset-btn" type="reset" name="">
						</fieldset>
					</form>
				</div>

				<!-- RIGHT SIDE WRAP -->
				<div class="col-xs-6">
					<fieldset>
						<legend>Данные из local storage
							<input type="button" class="btn btn-danger custom-btn clear-ls" value="Очистить LS">
						</legend>
						<table>
							<thead>
								<tr>
									<th>Edit</th>
									<th>Фамилия</th>
									<th>Имя</th>
									<th>Отчество</th>
									<th>Книга</th>
								</tr>
							</thead>
							<tbody ng-repeat="person in data track by $index">
								<tr>
									<td></td>
									<td>{{person.name}}</td>
									<td>{{person.surname}}</td>
									<td>{{person.patronymic}}</td>
									<td>
										<p>{{person.books.name}}</p>
										<p>{{person.books.genre}}</p>
										<p>{{person.books.pages}}</p>
									</td>
								</tr>
							</tbody>
						</table>
					</fieldset>
				</div>

			</div>
		</div>
	</div>

	
</body>
</html>